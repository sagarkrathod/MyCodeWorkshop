<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test OBJ</title>
    <style media="screen">
      .deleteQuestion{font-size: 10px; font-weight: bold; color:red; border: 2px solid;border-radius: 25px;background-color: #fff;cursor: pointer}
      div{padding-bottom: 5px; padding-top: 10px;}
      body{font-family: arial; font-size: 19px;}
      button{font-size: 20px;}
      input{font-size: 20px;}
    </style>
    <script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js'></script>
    <script type="text/javascript">

        $(document).ready(function(){
          function SongsList(param){
              if(localStorage.songs === undefined){
                localStorage.setItem('songs',[]); // Create localstorage if not present
              }
              //---------------------------------------------------------------------------------
              this._songsContianer = $('.songsContianer');
              this._songsTxt = $('.songsTxt');
          }
          SongsList.prototype._renderItems = function(clickEvent){
              _tempArray = localStorage.songs.split(','); // split localstorage into array eg. [1,2,3]
              if(clickEvent){
                if(this._songsTxt.val() !== ''){
                  _tempArray.push($('.songsTxt').val()) // push new values to existing array [1,2,3,4,5,6]
                  localStorage.setItem('songs',_tempArray); // store this new array string to localstorage again
                  this._songsTxt.val('').focus();
                }
                else alert('Enter some Value!!!') // validation

              }
              this._songsContianer.html('') // clearing the container before rendering list.
              for(i=1;i<_tempArray.length;i++){ // looping to render every record.
                this._songsContianer.append("<div>"+i+" ) "+_tempArray[i]+" <button class='deleteQuestion'>X</button><br></div>")
              }
          }
          SongsList.prototype.removeStorage = function(){
            var confirmation = window.confirm("Are you sure you want to clear Local Storage?")
            if (confirmation){
              localStorage.clear(); // clear entire local storage.
              alert('Local Storage Cleared, All songs are removed from the page!!!')
              this._songsContianer.remove();
            }
          }

          var songsList = new SongsList()
          songsList._renderItems();

          $('.clearStorage').on('click',function(){
              songsList.removeStorage(); // call funciton to clear localStorage
          })
          //---------------------------------------------------------------------------------
          $( 'body').on( "click",".deleteQuestion",  function(){
              //_renderItems('clickEvent');
              alert('Delete functinality coming soon!!!')
          })
          //---------------------------------------------------------------------------------
          $('.addSong').on('click',function(){
              songsList._renderItems('clickEvent'); // call funciton to add new values.
          });
        })
    </script>
  </head>
  <body>

      <input type="text" class="songsTxt" placeholder="Enter song Name">
      <button class="addSong">Add Song</button>
      <button class="clearStorage">Clear Local Storage</button>

      <div class="songsContianer">

      </div>
  </body>
</html>
